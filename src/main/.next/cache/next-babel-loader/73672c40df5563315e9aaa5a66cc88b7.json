{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from \"react\";\nimport Head from \"next/head\";\nimport { useRouter } from \"next/router\";\nimport { getSiteUrl } from \"../utils/config/site-url.helper\";\nimport { withTranslation, mapLanguageToLocaleSubpaths } from '../i18n/i18n';\nimport { jsx as ___EmotionJSX } from \"@emotion/core\";\n\nconst SEO = props => {\n  const {\n    title,\n    // language = `en`, // todo: replace default value with multi language support in ICWT-19\n    description,\n    robots = {\n      index: true,\n      follow: true\n    },\n    schema,\n    meta = [],\n    canonical\n  } = props;\n  const {\n    language\n  } = props.i18n;\n  const titleTemplate = \"%s | Shop Europe\";\n  const schemaDefaults = {\n    organization: {\n      name: \"Shop Europe\"\n    },\n    webSite: {\n      name: \"Shop Europe\"\n    },\n    blogPost: {\n      author: \"Shop Europe\",\n      publisher: {\n        name: \"Shop Europe\"\n      }\n    }\n  };\n  const robotsAsString = getRobots(robots);\n  const metaWithDefaults = getMeta(meta, description, robotsAsString);\n  const schemaDefaultValues = getSchemaDefaultValues(schemaDefaults, title, titleTemplate, language);\n  const schemaOrganization = getSchemaOrganization(schema, schemaDefaultValues);\n  const schemaWebSite = getSchemaWebSite(schema, schemaDefaultValues);\n  const schemaWebPage = getSchemaWebPage(schema, schemaDefaultValues);\n  const schemaBlogPost = getSchemaBlogPost(schema, schemaDefaultValues);\n  return (// This component injects elements into the <head> of the html page\n    ___EmotionJSX(Head, null, ___EmotionJSX(\"title\", null, titleTemplate.replace(\"%s\", title)), canonical ? ___EmotionJSX(\"link\", {\n      rel: \"canonical\",\n      href: getFullCanonicalUrl(canonical)\n    }) : null, metaWithDefaults.map(metaTag => ___EmotionJSX(\"meta\", {\n      key: `meta-${metaTag.name}`,\n      name: metaTag.name,\n      content: metaTag.content\n    })), schemaOrganization, schemaWebSite, schemaWebPage, schemaBlogPost)\n  );\n};\n\nfunction getRobots(robots) {\n  const robotsIndex = robots.index ? \"index\" : \"noindex\";\n  const robotsFollow = robots.follow ? \"follow\" : \"nofollow\";\n  return `${robotsIndex},${robotsFollow}`;\n}\n\nfunction getMeta(meta, description, robots) {\n  const metaWithDefaults = [{\n    name: `description`,\n    content: description\n  }, {\n    name: `robots`,\n    content: robots\n  }];\n  metaWithDefaults.concat(meta);\n  return metaWithDefaults;\n}\n\nfunction getSchemaDefaultValues(schemaDefaults, title, titleTemplate, language) {\n  const router = useRouter() || {\n    pathname: \"/\"\n  };\n  const compleatTitle = String(titleTemplate).replace(\"%s\", title);\n  const siteUrl = getSiteUrl();\n  const localeSubpaths = mapLanguageToLocaleSubpaths(language);\n  return {\n    organization: {\n      name: schemaDefaults.organization.name,\n      url: `${siteUrl}/${localeSubpaths}`,\n      // todo: add language as subdirectory with ICWT-19\n      brand: {\n        logo: `${siteUrl}/static/logo/logo-schema-org.png`\n      }\n    },\n    webSite: {\n      name: schemaDefaults.webSite.name,\n      url: `${siteUrl}/${localeSubpaths}` // todo: add language as subdirectory with ICWT-19\n\n    },\n    webPage: {\n      name: compleatTitle,\n      url: `${siteUrl}${router.pathname}`,\n      inLanguage: language // todo: add language with ICWT-19\n\n    },\n    blogPost: {\n      headline: title,\n      url: `${siteUrl}${router.pathname}`,\n      author: schemaDefaults.blogPost.author,\n      publisher: {\n        name: schemaDefaults.blogPost.publisher.name,\n        logo: {\n          name: \"logo\",\n          width: 800,\n          height: 166,\n          url: `${siteUrl}/static/logo/logo-schema-org.png`\n        }\n      }\n    }\n  };\n}\n\nfunction getSchemaOrganization(schema, schemaDefaultValues) {\n  if (!schema || !schema.organization) {\n    return null;\n  }\n\n  const ld = {\n    \"@context\": \"http://schema.org\",\n    \"@type\": \"Organization\",\n    name: schemaDefaultValues.organization.name,\n    url: schemaDefaultValues.organization.url,\n    brand: schema.organization.brand ? {\n      \"@type\": \"Brand\",\n      logo: schemaDefaultValues.organization.brand.logo,\n      aggregateRating: schema.organization.brand && schema.organization.brand.aggregateRating ? {\n        \"@type\": \"AggregateRating\",\n        ratingValue: schema.organization.brand.aggregateRating.ratingValue,\n        reviewCount: schema.organization.brand.aggregateRating.reviewCount\n      } : undefined\n    } : undefined\n  };\n  return ___EmotionJSX(\"script\", {\n    type: \"application/ld+json\",\n    dangerouslySetInnerHTML: {\n      __html: _JSON$stringify(ld)\n    }\n  });\n}\n\nfunction getSchemaWebSite(schema, schemaDefaultValues) {\n  const ld = {\n    \"@context\": \"http://schema.org\",\n    \"@type\": \"WebSite\",\n    name: schemaDefaultValues.webSite.name,\n    url: schemaDefaultValues.webSite.url\n  };\n  return ___EmotionJSX(\"script\", {\n    type: \"application/ld+json\",\n    dangerouslySetInnerHTML: {\n      __html: _JSON$stringify(ld)\n    }\n  });\n}\n\nfunction getSchemaWebPage(schema, schemaDefaultValues) {\n  if (!schema || !schema.webPage) {\n    return null;\n  }\n\n  const ld = {\n    \"@context\": \"http://schema.org\",\n    \"@type\": \"WebPage\",\n    name: schemaDefaultValues.webPage.name,\n    url: schemaDefaultValues.webPage.url,\n    inLanguage: schemaDefaultValues.webPage.inLanguage,\n    breadcrumb: schema.webPage.breadcrumb ? {\n      \"@type\": \"BreadcrumbList\",\n      itemListElement: [schema.webPage.breadcrumb.itemListElement.map(item => _objectSpread({\n        \"@type\": \"ListItem\"\n      }, item))]\n    } : undefined\n  };\n  return ___EmotionJSX(\"script\", {\n    type: \"application/ld+json\",\n    dangerouslySetInnerHTML: {\n      __html: _JSON$stringify(ld)\n    }\n  });\n}\n\nfunction getSchemaBlogPost(schema, schemaDefaultValues) {\n  if (!schema || !schema.blogPost) {\n    return null;\n  }\n\n  const ld = {\n    \"@context\": \"http://schema.org\",\n    \"@type\": \"BlogPosting\",\n    headline: schemaDefaultValues.blogPost.headline,\n    articleBody: schema.blogPost.articleBody,\n    url: schemaDefaultValues.blogPost.url,\n    author: schemaDefaultValues.blogPost.author,\n    publisher: {\n      \"@type\": \"Organization\",\n      name: schemaDefaultValues.blogPost.publisher.name,\n      logo: {\n        \"@type\": \"ImageObject\",\n        name: \"logo\",\n        width: schemaDefaultValues.blogPost.publisher.logo.width,\n        height: schemaDefaultValues.blogPost.publisher.logo.height,\n        url: schemaDefaultValues.blogPost.publisher.logo.url\n      }\n    },\n    datePublished: schema.blogPost.datePublished,\n    dateModified: schema.blogPost.dateModified,\n    image: schema.blogPost.image\n  };\n  return ___EmotionJSX(\"script\", {\n    type: \"application/ld+json\",\n    dangerouslySetInnerHTML: {\n      __html: _JSON$stringify(ld)\n    }\n  });\n}\n\nfunction getFullCanonicalUrl(canonical) {\n  if (!canonical || canonical.startsWith(\"http://\") || canonical.startsWith(\"https://\")) {\n    return canonical;\n  }\n\n  const prefix = `${!canonical.startsWith(\"/\") ? \"/\" : \"\"}`;\n  return `${prefix}${canonical}`;\n}\n\nexport default withTranslation()(SEO);","map":{"version":3,"sources":["/Users/enayetullahrasuli/Documents/bbv/books/js-node-js/nextjs-typescript-eng-its/src/main/components/seo-data-tags.tsx"],"names":["React","Head","useRouter","getSiteUrl","withTranslation","mapLanguageToLocaleSubpaths","SEO","props","title","description","robots","index","follow","schema","meta","canonical","language","i18n","titleTemplate","schemaDefaults","organization","name","webSite","blogPost","author","publisher","robotsAsString","getRobots","metaWithDefaults","getMeta","schemaDefaultValues","getSchemaDefaultValues","schemaOrganization","getSchemaOrganization","schemaWebSite","getSchemaWebSite","schemaWebPage","getSchemaWebPage","schemaBlogPost","getSchemaBlogPost","replace","getFullCanonicalUrl","map","metaTag","content","robotsIndex","robotsFollow","concat","router","pathname","compleatTitle","String","siteUrl","localeSubpaths","url","brand","logo","webPage","inLanguage","headline","width","height","ld","aggregateRating","ratingValue","reviewCount","undefined","__html","breadcrumb","itemListElement","item","articleBody","datePublished","dateModified","image","startsWith","prefix"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport  Head from \"next/head\";\nimport { useRouter } from \"next/router\";\nimport { WithTranslation } from 'react-i18next';\n\nimport { getSiteUrl } from \"../utils/config/site-url.helper\";\nimport { withTranslation, mapLanguageToLocaleSubpaths } from '../i18n/i18n'\n\n\ntype TSeoMeta = {\n  name: string,\n  content: string,\n}\n\ninterface ISeoRobots {\n    index: boolean;\n    follow: boolean;\n  }\n  \ninterface IProps extends Partial<WithTranslation>{ \n    title?: string;\n    language?: string;\n    description?: string;\n    robots?: ISeoRobots;\n    schema: ISeoSchema;\n    meta?: TSeoMeta[];\n    canonical?: string;\n  }\n\n  interface ISeoSchema {\n    organization: {\n      brand?: {\n        aggregateRating?: {\n          ratingValue: number;\n          reviewCount: number;\n        };\n      };\n    };\n    webPage: {\n      breadcrumb?: {\n        itemListElement: Array<{\n          position: number;\n          name: string;\n          item: string;\n        }>;\n      };\n    };\n    blogPost?: {\n      articleBody: string;\n      datePublished: string;\n      dateModified: string;\n      image: string;\n    };\n  }\n\n  interface ISeoSchemaDefaultValues {\n    organization: {\n      name: string;\n      url: string;\n      brand: {\n        logo: string;\n      };\n    };\n    webSite: {\n      name: string;\n      url: string;\n    };\n    webPage: {\n      name: string;\n      url: string;\n      inLanguage: string;\n    };\n    blogPost: {\n      headline: string;\n      url: string;\n      author: string;\n      publisher: {\n        name: string;\n        logo: {\n          name: string;\n          width: number;\n          height: number;\n          url: string;\n        };\n      };\n    };\n  }  \n  \nconst SEO: React.FunctionComponent<IProps> = (props) => {\n    const {\n        title,\n        // language = `en`, // todo: replace default value with multi language support in ICWT-19\n        description,\n        robots = { index: true, follow: true },\n        schema,\n        meta = [],\n        canonical,\n      } = props;\n      const { language } = props.i18n;\n\n      const titleTemplate = \"%s | Shop Europe\";\n      const schemaDefaults = {\n        organization: {\n          name: \"Shop Europe\",\n        },\n        webSite: {\n          name: \"Shop Europe\",\n        },\n        blogPost: {\n          author: \"Shop Europe\",\n          publisher: {\n            name: \"Shop Europe\",\n          },\n        },\n      };\n      const robotsAsString = getRobots(robots);\n      const metaWithDefaults = getMeta(meta, description, robotsAsString);\n\n      const schemaDefaultValues = getSchemaDefaultValues(schemaDefaults, title, titleTemplate, language);\n\n      const schemaOrganization = getSchemaOrganization(schema, schemaDefaultValues);\n      const schemaWebSite = getSchemaWebSite(schema, schemaDefaultValues);\n      const schemaWebPage = getSchemaWebPage(schema, schemaDefaultValues);\n      const schemaBlogPost = getSchemaBlogPost(schema, schemaDefaultValues); \n      \n      return (\n        // This component injects elements into the <head> of the html page\n        <Head> \n          <title>{titleTemplate.replace(\"%s\", title)}</title>\n          {canonical ? <link rel=\"canonical\" href={getFullCanonicalUrl(canonical)} /> : null}\n          {metaWithDefaults.map((metaTag) => (\n        <meta key={`meta-${metaTag.name}`} name={metaTag.name} content={metaTag.content} />\n      ))}\n\n          {schemaOrganization}\n          {schemaWebSite}\n          {schemaWebPage}\n          {schemaBlogPost}\n          </Head>\n      )\n}\n\nfunction getRobots(robots: ISeoRobots) {\n    const robotsIndex = robots.index ? \"index\" : \"noindex\";\n    const robotsFollow = robots.follow ? \"follow\" : \"nofollow\";\n  \n    return `${robotsIndex},${robotsFollow}`;\n}\n\nfunction getMeta(meta: TSeoMeta[], description: string, robots: string) {\n    const metaWithDefaults: TSeoMeta[] = [\n      {\n        name: `description`,\n        content: description,\n      },\n      {\n        name: `robots`,\n        content: robots,\n      },\n    ];\n  \n    metaWithDefaults.concat(meta);\n  \n    return metaWithDefaults;\n  }\n\n  function getSchemaDefaultValues(schemaDefaults: any, title: string, titleTemplate: string, language: string): ISeoSchemaDefaultValues {\n    const router = useRouter() || { pathname: \"/\" };\n  \n    const compleatTitle = String(titleTemplate).replace(\"%s\", title);\n    const siteUrl = getSiteUrl();\n    const localeSubpaths = mapLanguageToLocaleSubpaths(language);\n\n  \n    return {\n      organization: {\n        name: schemaDefaults.organization.name,\n        url: `${siteUrl}/${localeSubpaths}`, // todo: add language as subdirectory with ICWT-19\n        brand: {\n          logo: `${siteUrl}/static/logo/logo-schema-org.png`,\n        },\n      },\n      webSite: {\n        name: schemaDefaults.webSite.name,\n        url: `${siteUrl}/${localeSubpaths}`, // todo: add language as subdirectory with ICWT-19\n      },\n      webPage: {\n        name: compleatTitle,\n        url: `${siteUrl}${router.pathname}`,\n        inLanguage: language, // todo: add language with ICWT-19\n      },\n      blogPost: {\n        headline: title,\n        url: `${siteUrl}${router.pathname}`,\n        author: schemaDefaults.blogPost.author,\n        publisher: {\n          name: schemaDefaults.blogPost.publisher.name,\n          logo: {\n            name: \"logo\",\n            width: 800,\n            height: 166,\n            url: `${siteUrl}/static/logo/logo-schema-org.png`,\n          },\n        },\n      },\n    };\n  }\n\n  function getSchemaOrganization(schema: ISeoSchema, schemaDefaultValues: ISeoSchemaDefaultValues) {\n    if (!schema || !schema.organization) {\n      return null;\n    }\n  \n    const ld = {\n      \"@context\": \"http://schema.org\",\n      \"@type\": \"Organization\",\n      name: schemaDefaultValues.organization.name,\n      url: schemaDefaultValues.organization.url,\n      brand: schema.organization.brand\n        ? {\n            \"@type\": \"Brand\",\n            logo: schemaDefaultValues.organization.brand.logo,\n            aggregateRating:\n              schema.organization.brand && schema.organization.brand.aggregateRating\n                ? {\n                    \"@type\": \"AggregateRating\",\n                    ratingValue: schema.organization.brand.aggregateRating.ratingValue,\n                    reviewCount: schema.organization.brand.aggregateRating.reviewCount,\n                  }\n                : undefined,\n          }\n        : undefined,\n    };\n  \n    return <script type=\"application/ld+json\" dangerouslySetInnerHTML={{ __html: JSON.stringify(ld) }}></script>;\n  }\n\n  function getSchemaWebSite(schema: ISeoSchema, schemaDefaultValues: ISeoSchemaDefaultValues) {\n    const ld = {\n      \"@context\": \"http://schema.org\",\n      \"@type\": \"WebSite\",\n      name: schemaDefaultValues.webSite.name,\n      url: schemaDefaultValues.webSite.url,\n    };\n  \n    return <script type=\"application/ld+json\" dangerouslySetInnerHTML={{ __html: JSON.stringify(ld) }}></script>;\n  }\n  \n  function getSchemaWebPage(schema: ISeoSchema, schemaDefaultValues: ISeoSchemaDefaultValues) {\n    if (!schema || !schema.webPage) {\n      return null;\n    }\n  \n    const ld = {\n      \"@context\": \"http://schema.org\",\n      \"@type\": \"WebPage\",\n      name: schemaDefaultValues.webPage.name,\n      url: schemaDefaultValues.webPage.url,\n      inLanguage: schemaDefaultValues.webPage.inLanguage,\n      breadcrumb: schema.webPage.breadcrumb\n        ? {\n            \"@type\": \"BreadcrumbList\",\n            itemListElement: [\n              schema.webPage.breadcrumb.itemListElement.map((item) => ({ \"@type\": \"ListItem\", ...item })),\n            ],\n          }\n        : undefined,\n    };\n  \n    return <script type=\"application/ld+json\" dangerouslySetInnerHTML={{ __html: JSON.stringify(ld) }}></script>;\n  }\n  function getSchemaBlogPost(schema: ISeoSchema, schemaDefaultValues: ISeoSchemaDefaultValues) {\n    if (!schema || !schema.blogPost) {\n      return null;\n    }\n  \n    const ld = {\n      \"@context\": \"http://schema.org\",\n      \"@type\": \"BlogPosting\",\n      headline: schemaDefaultValues.blogPost.headline,\n      articleBody: schema.blogPost.articleBody,\n      url: schemaDefaultValues.blogPost.url,\n      author: schemaDefaultValues.blogPost.author,\n      publisher: {\n        \"@type\": \"Organization\",\n        name: schemaDefaultValues.blogPost.publisher.name,\n        logo: {\n          \"@type\": \"ImageObject\",\n          name: \"logo\",\n          width: schemaDefaultValues.blogPost.publisher.logo.width,\n          height: schemaDefaultValues.blogPost.publisher.logo.height,\n          url: schemaDefaultValues.blogPost.publisher.logo.url,\n        },\n      },\n      datePublished: schema.blogPost.datePublished,\n      dateModified: schema.blogPost.dateModified,\n      image: schema.blogPost.image,\n    };\n  \n    return <script type=\"application/ld+json\" dangerouslySetInnerHTML={{ __html: JSON.stringify(ld) }}></script>;\n  }\n  \n    \n\n  function getFullCanonicalUrl(canonical: string) {\n    if (!canonical || canonical.startsWith(\"http://\") || canonical.startsWith(\"https://\")) {\n      return canonical;\n    }\n  \n    const prefix = `${!canonical.startsWith(\"/\") ? \"/\" : \"\"}`;\n    return `${prefix}${canonical}`;\n  }\n  \n  export default withTranslation() (SEO);\n  \n  \n  \n  \n  "]},"metadata":{},"sourceType":"module"}